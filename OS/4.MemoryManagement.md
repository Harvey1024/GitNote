# 4. 处理器管理
## 4.1 存储器的层次结构
- CPU寄存器
    - 寄存器
- 主存
    - 高速缓存
    - 主存储器
    - 磁盘存储
- 辅存（属于设备管理范畴，信息长期保存）
    - 固定磁盘
    - 可移动存储介质
## 4.2 程序的装入和链接
程序装入内存步骤：
1. 编译，编译成目标模块
2. 链接，将目标模块和库函数链接在一起
3. 装入，装入内存
### 4.2.1 程序的装入
1. 绝对装入方式
2. 可重定位装入方式
3. 动态运行时的装入方式
### 4.2.2 程序的链接
1. 静态链接Static linking
2. 装入时动态链接Load-time Dynamic Linking
3. 运行时动态链接Run-time Dynamic Linking
## 4.3 连续分配存储管理方式
1. 单一连续分配
2. 固定分区分配
3. 动态分区分配
    1. 数据结构：
        - 空闲分区表
        - 空闲分区链
    2. 分配算法
        1. 基于顺序搜索
            - 首次适应算法first fit, FF  
                从链首开始查找
            - 循环首次适应算法next fit, NF  
                从上次找到的空闲分区的下一个空闲分区开始查找
            - 最佳适应算法best fit, BF  
                空闲分区按大小排列，找到满足要求，且是最小的空闲分区
            - 最坏适应算法worst fit, WF  
                总是挑选最大的空闲分区，分割一部分给作业。
        2. 基于索引搜索的动态分区分配算法
            - 快速适应算法quick fit  
                将一类相同容量的所有空闲分区单独设立空闲分区链表，同时设立一张管理索引表  
                步骤：1)根据进程长度，找到最小的空闲分区链表，2)选链表里的第一个，不对任何分区进行分割。
            - 伙伴系统buddy system  
                将已分配分区或空闲分区大小均设为2的k次幂，将空闲分区按大小分类，相同大小的单独设立空闲分区双向链表。  
                更具进程长度查找最接近的分区，找到后对分区进行分割。
            - 哈希算法  
                根据空闲分区在空闲区表中的分配规律，建立哈希函数，构造一张以空闲分区大小为关键字的哈希表，表的每一项记录了对应空闲分区链表的表头指针。  
                进程分配时，根据所需分区大小，通过哈希函数计算，得到哈希表中的位置，得到相应的空闲分区链表，实现最佳分配策略。  
    3. 分区分配操作
        - 分配内存
        - 回收内存
4. 动态可重定位分区分配
    1. 紧凑  
        将多个分散的小分区拼接成一个大分区
    2. 动态重定位  
        重定位寄存器，用来存放程序在内存中的起始地址  
        真正访问的地址 = 相对地址 + 重定位寄存器中地址  
        地址变换过程在程序执行期间自动进行，故称为动态重定位
    3. 动态重定位算法  
        当找不到满足要求的空闲空间分区时，进行紧凑形成连续空闲空间
## 4.4 对换 Swapping  
## 4.5 分页存储管理方式
## 4.6 分段存储管理方式
